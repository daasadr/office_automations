{
  "version": 1,
  "directus": "11.x",
  "vendor": "postgres",
  "collections": [
    {
      "collection": "documents",
      "meta": {
        "icon": "insert_drive_file",
        "display_template": "{{title}} - {{status}}",
        "sort_field": "created_at"
      },
      "schema": { "name": "documents" }
    },
    {
      "collection": "document_versions",
      "meta": {
        "icon": "history_toggle_off",
        "display_template": "v{{version_number}} - {{change_type}}",
        "sort_field": "version_number"
      },
      "schema": { "name": "document_versions" }
    },
    {
      "collection": "email_messages",
      "meta": { "icon": "mail", "sort_field": "received_at" },
      "schema": { "name": "email_messages" }
    },
    {
      "collection": "email_attachments",
      "meta": { "icon": "attach_file" },
      "schema": { "name": "email_attachments" }
    },
    {
      "collection": "processing_jobs",
      "meta": {
        "icon": "hourglass",
        "display_template": "{{job_id}} - {{status}}",
        "sort_field": "created_at"
      },
      "schema": { "name": "processing_jobs" }
    },
    {
      "collection": "artifacts",
      "meta": { "icon": "imagesmode", "sort_field": "created_at" },
      "schema": { "name": "artifacts" }
    },
    {
      "collection": "extractions",
      "meta": {
        "icon": "data_object",
        "display_template": "{{document.title}}",
        "sort_field": "created_at"
      },
      "schema": { "name": "extractions" }
    },
    {
      "collection": "review_tasks",
      "meta": { "icon": "rule", "sort_field": "created_at" },
      "schema": { "name": "review_tasks" }
    },
    {
      "collection": "exports",
      "meta": { "icon": "file_download", "sort_field": "created_at" },
      "schema": { "name": "exports" }
    },
    {
      "collection": "deliveries",
      "meta": { "icon": "send", "sort_field": "created_at" },
      "schema": { "name": "deliveries" }
    },
    {
      "collection": "integration_targets",
      "meta": { "icon": "hub" },
      "schema": { "name": "integration_targets" }
    },
    {
      "collection": "document_schemas",
      "meta": { "icon": "schema", "display_template": "{{schema_name}} v{{version}}" },
      "schema": { "name": "document_schemas" }
    },
    {
      "collection": "master_entities",
      "meta": { "icon": "business", "display_template": "{{name}} ({{entity_type}})" },
      "schema": { "name": "master_entities" }
    },
    {
      "collection": "activity_log",
      "meta": { "icon": "history", "sort_field": "created_at" },
      "schema": { "name": "activity_log" }
    }
  ],
  "fields": [
    {
      "collection": "documents",
      "field": "id",
      "type": "uuid",
      "schema": {
        "name": "id",
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "has_auto_increment": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "documents",
      "field": "title",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255 },
      "meta": { "required": true, "interface": "input", "width": "full" }
    },
    {
      "collection": "documents",
      "field": "source",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "default_value": "upload" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Upload", "value": "upload" },
            { "text": "Email", "value": "email" },
            { "text": "API", "value": "api" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "documents",
      "field": "file",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "file",
        "special": ["file"],
        "note": "FK to directus_files",
        "width": "full"
      }
    },
    {
      "collection": "documents",
      "field": "hash_sha256",
      "type": "string",
      "schema": {
        "data_type": "varchar",
        "max_length": 128,
        "is_unique": true,
        "is_nullable": true
      },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "note": "SHA-256 hash for deduplication"
      }
    },
    {
      "collection": "documents",
      "field": "mime_type",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 150, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "half" }
    },
    {
      "collection": "documents",
      "field": "bytes",
      "type": "bigInteger",
      "schema": { "data_type": "bigint", "is_nullable": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "display": "formatted-value"
      }
    },
    {
      "collection": "documents",
      "field": "doc_type",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 100, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "Document type classifier (e.g., waste_management, invoice)"
      }
    },
    {
      "collection": "documents",
      "field": "schema_name",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 100, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "Links to document_schemas.schema_name"
      }
    },
    {
      "collection": "documents",
      "field": "status",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "default_value": "received" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Received", "value": "received" },
            { "text": "Processing", "value": "processing" },
            { "text": "Completed", "value": "completed" },
            { "text": "Needs Review", "value": "needs_review" },
            { "text": "Approved", "value": "approved" },
            { "text": "Exported", "value": "exported" },
            { "text": "Delivered", "value": "delivered" },
            { "text": "Failed", "value": "failed" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "documents",
      "field": "priority",
      "type": "integer",
      "schema": { "data_type": "integer", "default_value": 0 },
      "meta": { "interface": "input", "width": "half", "note": "Higher number = higher priority" }
    },
    {
      "collection": "documents",
      "field": "notes",
      "type": "text",
      "schema": { "data_type": "text", "is_nullable": true },
      "meta": { "interface": "input-rich-text-md", "width": "full" }
    },
    {
      "collection": "documents",
      "field": "metadata_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "width": "full",
        "note": "Custom metadata and processing info"
      }
    },
    {
      "collection": "documents",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },
    {
      "collection": "documents",
      "field": "updated_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-updated"],
        "width": "half"
      }
    },

    {
      "collection": "document_versions",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "document_versions",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": {
        "interface": "select-dropdown-m2o",
        "display": "related-values",
        "width": "full",
        "required": true
      }
    },
    {
      "collection": "document_versions",
      "field": "version_number",
      "type": "integer",
      "schema": { "data_type": "integer", "default_value": 1 },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "note": "Auto-incremented version number per document"
      }
    },
    {
      "collection": "document_versions",
      "field": "file",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "file",
        "special": ["file"],
        "note": "FK to directus_files - The versioned file",
        "width": "full"
      }
    },
    {
      "collection": "document_versions",
      "field": "change_type",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 60 },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Original Upload", "value": "original" },
            { "text": "Row Added", "value": "row_added" },
            { "text": "Data Updated", "value": "data_updated" },
            { "text": "Manual Edit", "value": "manual_edit" },
            { "text": "AI Augmentation", "value": "ai_augmented" },
            { "text": "Validation Fix", "value": "validation_fix" },
            { "text": "Export Generation", "value": "export_generated" },
            { "text": "Other", "value": "other" }
          ]
        },
        "width": "half",
        "required": true
      }
    },
    {
      "collection": "document_versions",
      "field": "process_name",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 120, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "Name of the process/workflow that created this version"
      }
    },
    {
      "collection": "document_versions",
      "field": "changes_description",
      "type": "text",
      "schema": { "data_type": "text", "is_nullable": true },
      "meta": {
        "interface": "input-rich-text-md",
        "width": "full",
        "note": "Human-readable description of changes made"
      }
    },
    {
      "collection": "document_versions",
      "field": "changes_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "width": "full",
        "note": "Structured data about specific changes (e.g., rows added, fields modified)"
      }
    },
    {
      "collection": "document_versions",
      "field": "augmented_by",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 100, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "Service/user/system that made the changes"
      }
    },
    {
      "collection": "document_versions",
      "field": "approval_status",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "default_value": "pending" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Pending Review", "value": "pending" },
            { "text": "Approved", "value": "approved" },
            { "text": "Rejected", "value": "rejected" },
            { "text": "Auto-Approved", "value": "auto_approved" },
            { "text": "Not Required", "value": "not_required" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "document_versions",
      "field": "approved_by",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "select-dropdown-m2o",
        "display": "user",
        "note": "FK to directus_users",
        "width": "half"
      }
    },
    {
      "collection": "document_versions",
      "field": "approved_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "is_nullable": true },
      "meta": { "interface": "datetime", "readonly": true, "width": "half" }
    },
    {
      "collection": "document_versions",
      "field": "hash_sha256",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 128, "is_nullable": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "full",
        "note": "SHA-256 hash of the versioned file"
      }
    },
    {
      "collection": "document_versions",
      "field": "bytes",
      "type": "bigInteger",
      "schema": { "data_type": "bigint", "is_nullable": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "display": "formatted-value"
      }
    },
    {
      "collection": "document_versions",
      "field": "is_current",
      "type": "boolean",
      "schema": { "data_type": "boolean", "default_value": false },
      "meta": {
        "interface": "boolean",
        "width": "half",
        "note": "Marks the current/active version"
      }
    },
    {
      "collection": "document_versions",
      "field": "metadata_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "width": "full",
        "note": "Additional metadata about this version"
      }
    },
    {
      "collection": "document_versions",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },
    {
      "collection": "document_versions",
      "field": "updated_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-updated"],
        "width": "half"
      }
    },

    {
      "collection": "email_messages",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "email_messages",
      "field": "message_id",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255, "is_unique": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "full",
        "note": "Email Message-ID header"
      }
    },
    {
      "collection": "email_messages",
      "field": "from_address",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255 },
      "meta": { "interface": "input", "width": "half", "display": "formatted-value" }
    },
    {
      "collection": "email_messages",
      "field": "subject",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 500, "is_nullable": true },
      "meta": { "interface": "input", "width": "full" }
    },
    {
      "collection": "email_messages",
      "field": "received_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()" },
      "meta": { "interface": "datetime", "width": "half" }
    },
    {
      "collection": "email_messages",
      "field": "raw_mime_file",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "file",
        "special": ["file"],
        "note": "FK to directus_files - Original .eml file",
        "width": "full"
      }
    },
    {
      "collection": "email_messages",
      "field": "processed",
      "type": "boolean",
      "schema": { "data_type": "boolean", "default_value": false },
      "meta": { "interface": "boolean", "width": "half" }
    },
    {
      "collection": "email_messages",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "email_attachments",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "email_attachments",
      "field": "email_message",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "email_attachments",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "email_attachments",
      "field": "attachment_sha256",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 128, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "full" }
    },
    {
      "collection": "email_attachments",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "processing_jobs",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "processing_jobs",
      "field": "job_id",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255, "is_unique": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "note": "External job identifier (e.g., job_1234567890_abc123)"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "half" }
    },
    {
      "collection": "processing_jobs",
      "field": "workflow_id",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255, "is_nullable": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "note": "Temporal workflow ID"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "run_id",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "half", "note": "Temporal run ID" }
    },
    {
      "collection": "processing_jobs",
      "field": "status",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 40, "default_value": "processing" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Processing", "value": "processing" },
            { "text": "Completed", "value": "completed" },
            { "text": "Failed", "value": "failed" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "provider",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 40, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "AI provider used (gemini, openai, etc.)"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "current_step",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 100, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "half" }
    },
    {
      "collection": "processing_jobs",
      "field": "timings_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "readonly": true,
        "width": "full"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "costs_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "readonly": true,
        "width": "full",
        "note": "AI/processing costs breakdown"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "error_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "readonly": true,
        "width": "full"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "attempt",
      "type": "integer",
      "schema": { "data_type": "integer", "default_value": 1 },
      "meta": { "interface": "input", "width": "half" }
    },
    {
      "collection": "processing_jobs",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },
    {
      "collection": "processing_jobs",
      "field": "updated_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-updated"],
        "width": "half"
      }
    },

    {
      "collection": "artifacts",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "artifacts",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "half" }
    },
    {
      "collection": "artifacts",
      "field": "kind",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 40 },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "OCR Text", "value": "ocr_text" },
            { "text": "Parsed JSON", "value": "parsed_json" },
            { "text": "Page Image", "value": "page_image" },
            { "text": "Preview", "value": "preview" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "artifacts",
      "field": "file",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "file",
        "special": ["file"],
        "note": "FK to directus_files",
        "width": "full"
      }
    },
    {
      "collection": "artifacts",
      "field": "page_no",
      "type": "integer",
      "schema": { "data_type": "integer", "is_nullable": true },
      "meta": { "interface": "input", "width": "half", "note": "Page number if applicable" }
    },
    {
      "collection": "artifacts",
      "field": "format",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "File format (json, txt, png, etc.)"
      }
    },
    {
      "collection": "artifacts",
      "field": "hash_sha256",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 128, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "full" }
    },
    {
      "collection": "artifacts",
      "field": "metadata_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": { "interface": "input-code", "options": { "language": "json" }, "width": "full" }
    },
    {
      "collection": "artifacts",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "extractions",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "extractions",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "extractions",
      "field": "schema_name",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 100, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "Links to document_schemas.schema_name"
      }
    },
    {
      "collection": "extractions",
      "field": "extracted_data",
      "type": "json",
      "schema": { "data_type": "jsonb" },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "width": "full",
        "note": "Full extracted data payload"
      }
    },
    {
      "collection": "extractions",
      "field": "validation_result",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "width": "full",
        "note": "Validation results (present/missing fields, confidence)"
      }
    },
    {
      "collection": "extractions",
      "field": "confidence_score",
      "type": "float",
      "schema": { "data_type": "double precision", "is_nullable": true },
      "meta": { "interface": "input", "width": "half", "note": "Overall confidence score (0-100)" }
    },
    {
      "collection": "extractions",
      "field": "model_used",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 120, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "AI model identifier (e.g., gemini-2.5-flash)"
      }
    },
    {
      "collection": "extractions",
      "field": "provider",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 40, "is_nullable": true },
      "meta": {
        "interface": "input",
        "width": "half",
        "note": "AI provider (gemini, openai, etc.)"
      }
    },
    {
      "collection": "extractions",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "review_tasks",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "review_tasks",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "review_tasks",
      "field": "assignee",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "select-dropdown-m2o",
        "display": "user",
        "note": "FK to directus_users",
        "width": "half"
      }
    },
    {
      "collection": "review_tasks",
      "field": "status",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "default_value": "open" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Open", "value": "open" },
            { "text": "Approved", "value": "approved" },
            { "text": "Rejected", "value": "rejected" },
            { "text": "Auto Accepted", "value": "auto_accepted" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "review_tasks",
      "field": "changes_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "width": "full",
        "note": "Suggested changes or modifications"
      }
    },
    {
      "collection": "review_tasks",
      "field": "comment",
      "type": "text",
      "schema": { "data_type": "text", "is_nullable": true },
      "meta": { "interface": "input-rich-text-md", "width": "full" }
    },
    {
      "collection": "review_tasks",
      "field": "reviewed_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "is_nullable": true },
      "meta": { "interface": "datetime", "readonly": true, "width": "half" }
    },
    {
      "collection": "review_tasks",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "exports",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "exports",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "exports",
      "field": "format",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20 },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Excel (XLSX)", "value": "xlsx" },
            { "text": "CSV", "value": "csv" },
            { "text": "JSON", "value": "json" },
            { "text": "PDF", "value": "pdf" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "exports",
      "field": "filename",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255, "is_nullable": true },
      "meta": { "interface": "input", "width": "half", "note": "Original/generated filename" }
    },
    {
      "collection": "exports",
      "field": "file",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {
        "interface": "file",
        "special": ["file"],
        "note": "FK to directus_files",
        "width": "full"
      }
    },
    {
      "collection": "exports",
      "field": "hash_sha256",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 128, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "full" }
    },
    {
      "collection": "exports",
      "field": "status",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "default_value": "generated" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Generated", "value": "generated" },
            { "text": "Delivered", "value": "delivered" },
            { "text": "Failed", "value": "failed" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "exports",
      "field": "bytes",
      "type": "bigInteger",
      "schema": { "data_type": "bigint", "is_nullable": true },
      "meta": {
        "interface": "input",
        "readonly": true,
        "width": "half",
        "display": "formatted-value"
      }
    },
    {
      "collection": "exports",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "deliveries",
      "field": "id",
      "type": "uuid",
      "schema": {
        "data_type": "uuid",
        "is_primary_key": true,
        "is_nullable": false,
        "default_value": "gen_random_uuid()"
      },
      "meta": { "hidden": true, "readonly": true }
    },
    {
      "collection": "deliveries",
      "field": "export",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "deliveries",
      "field": "target",
      "type": "uuid",
      "schema": { "data_type": "uuid" },
      "meta": { "interface": "select-dropdown-m2o", "display": "related-values", "width": "full" }
    },
    {
      "collection": "deliveries",
      "field": "status",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20, "default_value": "pending" },
      "meta": {
        "interface": "select-dropdown",
        "options": {
          "choices": [
            { "text": "Pending", "value": "pending" },
            { "text": "Success", "value": "success" },
            { "text": "Failed", "value": "failed" }
          ]
        },
        "width": "half"
      }
    },
    {
      "collection": "deliveries",
      "field": "attempt",
      "type": "integer",
      "schema": { "data_type": "integer", "default_value": 1 },
      "meta": { "interface": "input", "width": "half" }
    },
    {
      "collection": "deliveries",
      "field": "request_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "readonly": true,
        "width": "full"
      }
    },
    {
      "collection": "deliveries",
      "field": "response_json",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {
        "interface": "input-code",
        "options": { "language": "json" },
        "readonly": true,
        "width": "full"
      }
    },
    {
      "collection": "deliveries",
      "field": "external_id",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255, "is_nullable": true },
      "meta": { "interface": "input", "readonly": true, "width": "half" }
    },
    {
      "collection": "deliveries",
      "field": "error_message",
      "type": "text",
      "schema": { "data_type": "text", "is_nullable": true },
      "meta": { "interface": "input-multiline", "readonly": true, "width": "full" }
    },
    {
      "collection": "deliveries",
      "field": "sent_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "is_nullable": true },
      "meta": { "interface": "datetime", "readonly": true, "width": "half" }
    },
    {
      "collection": "deliveries",
      "field": "created_at",
      "type": "timestamp",
      "schema": { "data_type": "timestamp", "default_value": "now()", "is_nullable": false },
      "meta": {
        "interface": "datetime",
        "readonly": true,
        "special": ["date-created"],
        "width": "half"
      }
    },

    {
      "collection": "integration_targets",
      "field": "id",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_primary_key": true, "is_nullable": false },
      "meta": {}
    },
    {
      "collection": "integration_targets",
      "field": "name",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 120 },
      "meta": {}
    },
    {
      "collection": "integration_targets",
      "field": "kind",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20 },
      "meta": {}
    },
    {
      "collection": "integration_targets",
      "field": "base_url",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 500, "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "integration_targets",
      "field": "auth_kind",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20 },
      "meta": {}
    },
    {
      "collection": "integration_targets",
      "field": "auth_secrets",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": { "special": ["encrypted"] }
    },
    {
      "collection": "integration_targets",
      "field": "default_mapping_key",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 120, "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "integration_targets",
      "field": "active",
      "type": "boolean",
      "schema": { "data_type": "boolean", "default_value": true },
      "meta": {}
    },

    {
      "collection": "schema_definitions",
      "field": "id",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_primary_key": true, "is_nullable": false },
      "meta": {}
    },
    {
      "collection": "schema_definitions",
      "field": "schema_key",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 100 },
      "meta": {}
    },
    {
      "collection": "schema_definitions",
      "field": "version",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 20 },
      "meta": {}
    },
    {
      "collection": "schema_definitions",
      "field": "json_schema",
      "type": "json",
      "schema": { "data_type": "jsonb" },
      "meta": {}
    },
    {
      "collection": "schema_definitions",
      "field": "csv_mapping",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "schema_definitions",
      "field": "auto_accept_thresholds",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "schema_definitions",
      "field": "prompt_template",
      "type": "text",
      "schema": { "data_type": "text", "is_nullable": true },
      "meta": {}
    },

    {
      "collection": "master_vendors",
      "field": "id",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_primary_key": true, "is_nullable": false },
      "meta": {}
    },
    {
      "collection": "master_vendors",
      "field": "name",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 255 },
      "meta": {}
    },
    {
      "collection": "master_vendors",
      "field": "vat_id",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 120, "is_unique": true },
      "meta": {}
    },
    {
      "collection": "master_vendors",
      "field": "iban",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 120, "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "master_vendors",
      "field": "aliases",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {}
    },

    {
      "collection": "activity_log",
      "field": "id",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_primary_key": true, "is_nullable": false },
      "meta": {}
    },
    {
      "collection": "activity_log",
      "field": "document",
      "type": "uuid",
      "schema": { "data_type": "uuid", "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "activity_log",
      "field": "kind",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 80 },
      "meta": {}
    },
    {
      "collection": "activity_log",
      "field": "payload",
      "type": "json",
      "schema": { "data_type": "jsonb", "is_nullable": true },
      "meta": {}
    },
    {
      "collection": "activity_log",
      "field": "emitted_by",
      "type": "string",
      "schema": { "data_type": "varchar", "max_length": 40 },
      "meta": {}
    }
  ],
  "relations": [
    {
      "collection": "documents",
      "field": "file",
      "related_collection": "directus_files",
      "schema": {
        "constraint_name": "documents_file_fk",
        "table": "documents",
        "column": "file",
        "foreign_key_table": "directus_files",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },
    {
      "collection": "document_versions",
      "field": "file",
      "related_collection": "directus_files",
      "schema": {
        "constraint_name": "document_versions_file_fk",
        "table": "document_versions",
        "column": "file",
        "foreign_key_table": "directus_files",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },
    {
      "collection": "email_messages",
      "field": "raw_mime_file",
      "related_collection": "directus_files",
      "schema": {
        "constraint_name": "email_messages_raw_file_fk",
        "table": "email_messages",
        "column": "raw_mime_file",
        "foreign_key_table": "directus_files",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },
    {
      "collection": "artifacts",
      "field": "file",
      "related_collection": "directus_files",
      "schema": {
        "constraint_name": "artifacts_file_fk",
        "table": "artifacts",
        "column": "file",
        "foreign_key_table": "directus_files",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },
    {
      "collection": "exports",
      "field": "file",
      "related_collection": "directus_files",
      "schema": {
        "constraint_name": "exports_file_fk",
        "table": "exports",
        "column": "file",
        "foreign_key_table": "directus_files",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },

    {
      "collection": "document_versions",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "document_versions_document_fk",
        "table": "document_versions",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "email_attachments",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "email_attachments_document_fk",
        "table": "email_attachments",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "processing_jobs",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "processing_jobs_document_fk",
        "table": "processing_jobs",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "artifacts",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "artifacts_document_fk",
        "table": "artifacts",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "extractions",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "extractions_document_fk",
        "table": "extractions",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "review_tasks",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "review_tasks_document_fk",
        "table": "review_tasks",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "exports",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "exports_document_fk",
        "table": "exports",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "activity_log",
      "field": "document",
      "related_collection": "documents",
      "schema": {
        "constraint_name": "activity_log_document_fk",
        "table": "activity_log",
        "column": "document",
        "foreign_key_table": "documents",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },

    {
      "collection": "email_attachments",
      "field": "email_message",
      "related_collection": "email_messages",
      "schema": {
        "constraint_name": "email_attachments_email_fk",
        "table": "email_attachments",
        "column": "email_message",
        "foreign_key_table": "email_messages",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },

    {
      "collection": "deliveries",
      "field": "export",
      "related_collection": "exports",
      "schema": {
        "constraint_name": "deliveries_export_fk",
        "table": "deliveries",
        "column": "export",
        "foreign_key_table": "exports",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "CASCADE"
      },
      "meta": {}
    },
    {
      "collection": "deliveries",
      "field": "target",
      "related_collection": "integration_targets",
      "schema": {
        "constraint_name": "deliveries_target_fk",
        "table": "deliveries",
        "column": "target",
        "foreign_key_table": "integration_targets",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "RESTRICT"
      },
      "meta": {}
    },

    {
      "collection": "document_versions",
      "field": "approved_by",
      "related_collection": "directus_users",
      "schema": {
        "constraint_name": "document_versions_approved_by_fk",
        "table": "document_versions",
        "column": "approved_by",
        "foreign_key_table": "directus_users",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    },
    {
      "collection": "review_tasks",
      "field": "assignee",
      "related_collection": "directus_users",
      "schema": {
        "constraint_name": "review_tasks_assignee_fk",
        "table": "review_tasks",
        "column": "assignee",
        "foreign_key_table": "directus_users",
        "foreign_key_column": "id",
        "on_update": "NO ACTION",
        "on_delete": "SET NULL"
      },
      "meta": {}
    }
  ]
}
