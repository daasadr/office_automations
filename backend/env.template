# Backend Services - Environment Configuration
# Copy this file to .env and update with your values
# Command: cp env.template .env

# ============================================================================
# PROJECT CONFIGURATION
# ============================================================================
# Note: PROJECT_PREFIX is no longer used. Container names are now service names only.

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
POSTGRES_DB=directus
POSTGRES_USER=directus
POSTGRES_PASSWORD=changeme_strong_password
POSTGRES_PORT=5432

# Alternative names (used by some services)
DB_DATABASE=${POSTGRES_DB}
DB_USER=${POSTGRES_USER}
DB_PASSWORD=${POSTGRES_PASSWORD}

# ============================================================================
# CACHE (KeyDB/Redis)
# ============================================================================
KEYDB_PASSWORD=changeme_keydb_password
KEYDB_PORT=6379
REDIS_PASSWORD=${KEYDB_PASSWORD}
REDIS_PORT=${KEYDB_PORT}

# Cache settings
CACHE_ENABLED=true
CACHE_STORE=redis
CACHE_NAMESPACE=directus_cache

# ============================================================================
# OBJECT STORAGE (MinIO)
# ============================================================================
MINIO_ACCESS_KEY=changeme_minio_access
MINIO_SECRET_KEY=changeme_minio_secret_key_min_16_chars
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BROWSER_REDIRECT_URL=http://localhost:9001
# Bucket name for file storage (required for Directus file uploads)
MINIO_BUCKET=office-automation

# Storage for Directus
STORAGE_MINIO_KEY=${MINIO_ACCESS_KEY}
STORAGE_MINIO_SECRET=${MINIO_SECRET_KEY}
STORAGE_MINIO_BUCKET=${MINIO_BUCKET}
STORAGE_MINIO_ENDPOINT=http://minio:9000

# ============================================================================
# DIRECTUS CMS
# ============================================================================
# Admin user
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=changeme_admin_password

# Directus secrets (generate with: openssl rand -hex 16 and openssl rand -base64 32)
KEY=changeme_generate_with_openssl_rand_hex_16
SECRET=changeme_generate_with_openssl_rand_base64_32

# API tokens
DIRECTUS_API_TOKEN=changeme_directus_api_token
DIRECTUS_TOKEN=${DIRECTUS_API_TOKEN}

# ============================================================================
# ORCHESTRATION API
# ============================================================================
# API settings
ORCHESTRATION_PORT=3001
NODE_ENV=development  # or production (should match root .env)
LOG_LEVEL=info  # debug, info, warn, error

# Security (generate with: openssl rand -hex 32)
API_SECRET_KEY=changeme_generate_with_openssl_rand_hex_32
WEBHOOK_SECRET=changeme_webhook_secret

# CORS - internal URLs
CORS_ORIGIN=http://localhost:3000,http://localhost:4321,http://localhost:8055

# LLM Configuration
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash

# ============================================================================
# EMAIL (MailHog - Development Only)
# ============================================================================
MAILHOG_SMTP_PORT=1025
MAILHOG_UI_PORT=8025

# ============================================================================
# TEMPORAL (Future)
# ============================================================================
# TEMPORAL_NAMESPACE=default
# TEMPORAL_TASK_QUEUE=document-processing

# ============================================================================
# DOCKER BUILD SETTINGS
# ============================================================================
DOCKER_BUILD_TARGET=production  # or development

# ============================================================================
# QUICK SETUP COMMANDS
# ============================================================================
# Generate secrets:
# KEY=$(openssl rand -hex 16)
# SECRET=$(openssl rand -base64 32)
# API_SECRET_KEY=$(openssl rand -hex 32)
# WEBHOOK_SECRET=$(openssl rand -hex 32)
#
# Generate passwords:
# POSTGRES_PASSWORD=$(openssl rand -base64 24)
# KEYDB_PASSWORD=$(openssl rand -base64 24)
# MINIO_ACCESS_KEY=$(openssl rand -base64 16)
# MINIO_SECRET_KEY=$(openssl rand -base64 32)
# ADMIN_PASSWORD=$(openssl rand -base64 16)

