---
import Head from "@/layouts/components/Head.astro";
import ProgressIndicator from "@/layouts/components/ProgressIndicator.astro";
import TopBar from "@/layouts/components/TopBar.astro";

export interface Props {
  title: string;
  description?: string;
  currentStep?: "welcome" | "upload" | "check" | "processing" | "download";
}

const { title, description, currentStep } = Astro.props;
---

<!DOCTYPE html>
<html lang="cs">
  <Head title={title} description={description} />
  
  <body class="min-h-screen bg-background font-sans antialiased">
    <!-- Skip link for screen readers -->
    <a href="#main-content" class="skip-link">Přeskočit na hlavní obsah</a>
    
    <!-- Top navigation bar -->
    <TopBar />
    
    <div class="container mx-auto px-4 flex-1 flex flex-col">
      <!-- Progress indicator -->
      <ProgressIndicator currentStep={currentStep} />
      
      <!-- Main content -->
      <main id="main-content" class="page-content flex-1" role="main" tabindex="-1">
        <slot />
      </main>
    </div>
    
    <!-- Smartsupp Live Chat script -->
    <script type="text/javascript" is:inline>
      var _smartsupp = _smartsupp || {};
      _smartsupp.key = '0825e59846d95d02d13fe53f58734c15bc3e770b';
      window.smartsupp||(function(d) {
        var s,c,o=smartsupp=function(){ o._.push(arguments)};o._=[];
        s=d.getElementsByTagName('script')[0];c=d.createElement('script');
        c.type='text/javascript';c.charset='utf-8';c.async=true;
        c.src='https://www.smartsuppchat.com/loader.js?';s.parentNode.insertBefore(c,s);
      })(document);
    </script>
    <noscript> Powered by <a href="https://www.smartsupp.com" target="_blank">Smartsupp</a></noscript>
  </body>
</html>
